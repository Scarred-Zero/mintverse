{% set active = "withdrawal" %} {% extends "main/partials/base_2.html" %} {%
block title %} {{ title }} {%endblock %} {% block content %} {% include
"auth/partials/_alert.html" %}
<section class="withdrawal__wrapper">
  <div class="paddings innerWidth flexCenter withdrawal__container">
    <div class="withdrawal__banner">
      <h1 class="primaryText">Withdrawal</h1>
    </div>

    <div class="withdrawal__content">
      <div class="withdrawal__content-btns">
        <div class="withdrawal__contract-standard">
          <h2>Contract Standard</h2>
          <div>
            <svg width="14" height="16" viewBox="0 0 14 16">
              <path
                d="M5.71393 1.83854L6.13102 2.11429L5.71393 1.83855L1.93612 7.55288L1.60592 8.05234L2.15626 8.2882L6.39258 10.1037C6.78037 10.27 7.21943 10.27 7.60723 10.1038C7.60725 10.1038 7.60728 10.1038 7.6073 10.1037L11.8436 8.2882L12.394 8.05234L12.0638 7.55288L8.28597 1.83859C8.28596 1.83858 8.28596 1.83857 8.28595 1.83855C7.67649 0.916563 6.32342 0.916648 5.71393 1.83854ZM2.71422 8.7993L1.42014 8.2447C1.44974 7.96525 1.54522 7.69087 1.70725 7.44578L5.50537 1.70067L5.50538 1.70067C6.21369 0.629238 7.78619 0.629234 8.49451 1.70067L8.49452 1.70068L12.2927 7.44577C12.2927 7.44578 12.2927 7.44578 12.2927 7.44578C12.4547 7.69088 12.5502 7.96527 12.5798 8.24472L11.2857 8.7993L7.70573 10.3335L7.70572 10.3336C7.255 10.5267 6.74488 10.5267 6.29416 10.3336L6.29415 10.3336L2.71422 8.7993ZM1.76419 9.50307C1.56787 9.23911 1.45282 8.93387 1.41999 8.62136L2.11606 9.55727L5.76291 14.4606C6.37933 15.2894 7.62055 15.2894 8.23697 14.4606L11.8839 9.55727L12.5799 8.62143C12.5471 8.93392 12.432 9.23913 12.2357 9.50306L8.43758 14.6098C8.43758 14.6098 8.43758 14.6098 8.43757 14.6098C7.72117 15.573 6.27871 15.573 5.56231 14.6098L1.76419 9.50307L1.36627 9.79902L1.76419 9.50307Z"
                fill="white"
                stroke="white"
              ></path>
            </svg>
            <h1>
              <strong style="color: cyan; font-family: 'Briem Hand', sans-serif"
                >ERC-721
              </strong>
            </h1>
          </div>
        </div>

        <div class="withdrawal__wallet-balance">
          <h2>Wallet balance</h2>
          <div>
            <svg width="14" height="16" viewBox="0 0 14 16">
              <path
                d="M5.71393 1.83854L6.13102 2.11429L5.71393 1.83855L1.93612 7.55288L1.60592 8.05234L2.15626 8.2882L6.39258 10.1037C6.78037 10.27 7.21943 10.27 7.60723 10.1038C7.60725 10.1038 7.60728 10.1038 7.6073 10.1037L11.8436 8.2882L12.394 8.05234L12.0638 7.55288L8.28597 1.83859C8.28596 1.83858 8.28596 1.83857 8.28595 1.83855C7.67649 0.916563 6.32342 0.916648 5.71393 1.83854ZM2.71422 8.7993L1.42014 8.2447C1.44974 7.96525 1.54522 7.69087 1.70725 7.44578L5.50537 1.70067L5.50538 1.70067C6.21369 0.629238 7.78619 0.629234 8.49451 1.70067L8.49452 1.70068L12.2927 7.44577C12.2927 7.44578 12.2927 7.44578 12.2927 7.44578C12.4547 7.69088 12.5502 7.96527 12.5798 8.24472L11.2857 8.7993L7.70573 10.3335L7.70572 10.3336C7.255 10.5267 6.74488 10.5267 6.29416 10.3336L6.29415 10.3336L2.71422 8.7993ZM1.76419 9.50307C1.56787 9.23911 1.45282 8.93387 1.41999 8.62136L2.11606 9.55727L5.76291 14.4606C6.37933 15.2894 7.62055 15.2894 8.23697 14.4606L11.8839 9.55727L12.5799 8.62143C12.5471 8.93392 12.432 9.23913 12.2357 9.50306L8.43758 14.6098C8.43758 14.6098 8.43758 14.6098 8.43757 14.6098C7.72117 15.573 6.27871 15.573 5.56231 14.6098L1.76419 9.50307L1.36627 9.79902L1.76419 9.50307Z"
                fill="white"
                stroke="white"
              ></path>
            </svg>
            <h1>
              <strong style="color: cyan; font-family: 'Briem Hand', sans-serif"
                >{{eth_count}} ETH
              </strong>
            </h1>
          </div>
        </div>
      </div>
      <form
        action="{{ url_for('user.withdrawal_page') }}"
        method="post"
        class="flexColCenter withdrawal__form"
      >
        {{ form.csrf_token }}
        <div class="withdrawal__input-container grid">
          <div class="withdrawal__form-div">
            {{ form.eth_address.label(class="withdrawal__form-tag") }} {{
            form.eth_address() }}
          </div>

          <div class="withdrawal__form-div">
            {{ form.eth_amount.label(class="withdrawal__form-tag") }} {{
            form.eth_amount() }}
          </div>

          <div class="withdrawal__form-div">
            {{ form.withdrawal_mth.label(class="withdrawal__form-tag") }} {{
            form.withdrawal_mth() }}
          </div>
          {{ form.submit() }}
        </div>
      </form>
    </div>
    <div class="withdrawal__history-container">
      <h3 class="primaryText">Withdrawal History</h3>
      <hr />
      {% if wth_hst %}
      <div class="table-responsive">
        <table class="table table-striped">
          <thead>
            <tr>
              <th>Id</th>
              <th>Method</th>
              <th>Type</th>
              <th>Ethereum Address</th>
              <th>Amount</th>
              <th>Status</th>
              <th>Timestamp</th>
            </tr>
          </thead>
          <tbody>
            {% for hst in wth_hst %}
            <tr>
              <td>{{ hst.id }}</td>
              <td>{{ hst.withdrawal_mth }}</td>
              <td>{{ hst.type }}</td>
              <td>{{ hst.eth_address }}</td>
              <td>{{ hst.eth_amount }} ETH</td>
              <td>
                <span class="badge {% if hst.status == 'Pending' %}badge-warning {% elif hst.status == 'Approved' %}badge-success {% else %}badge-danger{% endif %}">
                  {{ hst.status }}
                </span>
              </td>
              <td>{{ hst.timestamp }}</td>
            </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>
      {% else %}
      <div class="table-responsive">
        <table class="table table-striped">
          <thead>
            <tr>
              <th>Id</th>
              <th>Method</th>
              <th>Type</th>
              <th>Ethereum Address</th>
              <th>Amount</th>
              <th>Status</th>
              <th>Timestamp</th>
            </tr>
          </thead>
        </table>
      </div>
      <p style="margin-top: 10px;">No Withdrawal History available yet.</p>
      {% endif %}
    </div>
  </div>
</section>
{% endblock %}
