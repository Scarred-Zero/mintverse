{% extends "admin/partials/_layout.html" %}
{% block title %} {{ title }} {% endblock %}
{% block content %} 
    <div class="content">
        <!-- Start Content-->
        <div class="container-fluid">
            <div>
                <ol class="breadcrumb m-0">
                    <li class="breadcrumb-item inactive">
                        <a href="{{ url_for('admin.admin_dashboard') }}">ADMIN DASHBOARD</a>
                    </li>
                    <li class="breadcrumb-item">
                        <i class="fa fa-angle-right"></i>
                    </li>
                    <li class="breadcrumb-item inactive">
                        <a href="{{ url_for('admin.admin_nft_listing') }}">ADMIN NFT LISTING</a>
                    </li>
                    <li class="breadcrumb-item">
                        <i class="fa fa-angle-right"></i>
                    </li>
                    <li class="breadcrumb-item active">NFT DETAILS</li>
                </ol>
            </div>
            <div class="page-title-box">
                <h3>NFT DETAILS</h3>
            </div>
            <hr>
            <div class="nft__img-container">
                <img src="{{nft.nft_image}}" alt="{{nft.nft_name}}" />
            </div>
            <br>

            <h3>Name: {{ nft.nft_name }}</h3>
            <table class="table table-condensed mb-0 border-top">
                <tbody>
                    <tr>
                        <th scope="row">Id</th>
                        <td class="ng-binding">
                            {{ nft.id }}
                        </td>
                    </tr>
                    <tr>
                        <th scope="row">Ref Number</th>
                        <td class="ng-binding">
                            {{ nft.ref_number }}
                        </td>
                    </tr>
                    <tr>
                        <th scope="row">Price</th>
                        <td class="ng-binding">
                            {{ nft.price }} ETH
                        </td>
                    </tr>
                    <tr>
                        <th scope="row">Category</th>
                        <td class="ng-binding">
                            {{ nft.category }}
                        </td>
                    </tr>
                    <tr>
                        <th scope="row">Collection Name</th>
                        <td class="ng-binding">
                            {{ nft.collection_name }}
                        </td>
                    </tr>
                    <tr>
                        <th scope="row">Creator</th>
                        <td class="ng-binding">
                            {{ nft.creator }}
                        </td>
                    </tr>
                    <tr>
                        <th scope="row">Status</th>
                        <td class="ng-binding">
                            {{ nft.status.value }}
                        </td>
                    </tr>
                    <tr>
                        <th scope="row">Buyer</th>
                        <td class="ng-binding">
                            {{ nft.buyer }}
                        </td>
                    </tr>
                    <tr>
                        <th scope="row">Royalties (%)</th>
                        <td class="ng-binding">
                            {{ nft.royalties }}
                        </td>
                    </tr>
                    <tr>
                        <th scope="row">Views</th>
                        <td class="ng-binding">
                            {{ nft.views }}
                        </td>
                    </tr>
                    <tr>
                        <th scope="row">Date Created</th>
                        <td class="ng-binding">
                            {{ nft.timestamp }}
                        </td>
                    </tr>
                </tbody>
            </table>

            <div class="container">
                <div class="mt-3 d-flex align-items-center gap-2">
                    <a href="{{ url_for('admin.edit_nft_details', ref_number=nft.ref_number) }}">
                        <button class="btn btn-warning">
                            Edit<i class="fa fa-pen-to-square ml-2"></i>
                        </button>
                    </a>
                    <button type="button" class="btn btn-danger" data-bs-toggle="modal" data-bs-target="#deleteModal">
                        Delete<i class="fa fa-trash ml-2"></i>
                    </button>
                </div> 
                
                <!-- Delete Confirmation Modal -->
                <div class="modal fade" id="deleteModal" tabindex="-1" aria-labelledby="deleteModalLabel" aria-hidden="true">
                    <div class="modal-dialog">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h5 class="modal-title" id="deleteModalLabel">Confirm Delete</h5>
                                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                            </div>
                            <div class="modal-body">
                                Are you sure you want to delete this Nft?
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">No</button>
                                <a href="{{ url_for('admin.delete_nft', ref_number=nft.ref_number) }}" class="btn btn-danger">Yes</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>    
    </div>
{% endblock %}